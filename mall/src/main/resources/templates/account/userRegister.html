<div>
    <a class="hiddenanchor" id="signup"></a>
    <a class="hiddenanchor" id="signin"></a>

    <div class="login_wrapper">
        <div id="register" class="animate form login_form">
            <section class="login_content">
                <form>
                    <h1>注册账号</h1>
                    <div>
                        <input name="userName" type="text" class="form-control" placeholder="Username" required=""/>
                    </div>
                    <div>
                        <input name="password" type="password" class="form-control" placeholder="Password" required=""/>
                    </div>
                    <div>
                        <input name="tel" type="text" class="form-control" placeholder="Tel" required=""/>
                    </div>
                    <div>
                        <input name="address" type="text" class="form-control" placeholder="Address" required=""/>
                    </div>
                    <div>
                        <input name="sex" type="text" class="form-control" placeholder="Sex" required="男"/>
                    </div>

                    <div>
                        <a id="registerButton" class="btn btn-default submit" href="javascript:void(0);" >开始注册</a>
                    </div>

                    <div class="clearfix"></div>

                    <div class="separator">
                        <p class="change_link">确认账号?
                            <a href="/shopping/login" class="to_register"> 返回登录页 </a>
                        </p>

                        <div class="clearfix"></div>
                        <br/>

                        <div>
                            <h1><i class="fa fa-paw"></i> 淘宝贝商城期待你的到来!</h1>
                            <p>©2016 All Rights Reserved. Gentelella Alela! is a Bootstrap 3 template. Privacy and
                                Terms</p>
                        </div>
                    </div>
                </form>
            </section>
        </div>
    </div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        $("#registerButton").on("click", function () {
            register();
        })
    });

    function register() {
        var user = {};
        user.userName = $("[name='userName']").val();
        user.password = $("[name='password']").val();
        user.tel = $("[name='tel']").val();
        user.sex = $("[name='sex']").val();
        user.address = $("[name='address']").val();

        $.ajax({
            url: "/shopping/user",
            type: "post",
            contentType: "application/json",
            data: JSON.stringify(user),
            success: function (data) {
                if (data.state == 200) {
                    alert("注册成功,跳转到登录页");
                    location.href = "/shopping/login";
                } else {
                    layer.msg(data.message, {icon: 0});
                }
            },

            error: function (data) {
                layer.msg(data.responseText, {icon: 0});
            }
        });
    }
</script>